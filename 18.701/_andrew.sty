%%%%%%%%%%%%%
%    ^~^  , %
%   ('Y') ) %
%   /   \/  %
%  (\|||/)  %
%%%%%%%%%%%%%
% https://github.com/yellowtomato98/_andrew.sty

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{_andrew}[2022/10/01 Andrew's sty file]

% formatting packages
\RequirePackage[dvipsnames]{xcolor} % makes things rainbow
\RequirePackage{setspace} \onehalfspacing % spacing
\RequirePackage{tcolorbox} % rainbow boxes
\RequirePackage{titlesec} % section customization
\RequirePackage{multirow} % tables
\RequirePackage{float} % figure formatting
\RequirePackage{graphicx} % \includegraphics
\RequirePackage[stable]{footmisc} % footnotes
\RequirePackage[margin = 1.5in]{geometry} % geometry of the page
\RequirePackage{fancyhdr} % headers+footers
\RequirePackage{tocloft} % toc
\RequirePackage{pgffor} % \foreach
\RequirePackage{upgreek} % upright greek letters
\RequirePackage{marvosym} % astronomy symbols
\RequirePackage{fontawesome} % more symbols
\RequirePackage{datetime} % date and time
\RequirePackage{adjustbox} % scaling tikzcd diagrams

% math packages
\RequirePackage{mathtools} % 
\RequirePackage{amssymb} % 
\RequirePackage{amsthm} % 
\RequirePackage{empheq} % 
\RequirePackage{xfrac} % diagonal fractions
\RequirePackage{asymptote} % pretty pictures
\RequirePackage{mathdots} % dots 
\RequirePackage{cancel} % cancelling lines 
\RequirePackage{tikz-cd} % commutative diagrams
\RequirePackage{centernot} % center not
\RequirePackage{hyperref} % referencing 

% setting up section headers
\titleformat{\section}
  {\fontfamily{lmss}\bfseries\LARGE}{\fontfamily{lmss}\bfseries\LARGE\thesection}{1em}{}
\titleformat{\subsection}
  {\fontfamily{lmss}\bfseries\Large}{\fontfamily{lmss}\bfseries\Large\thesubsection}{1em}{}
\titleformat{\subsubsection}
  {\fontfamily{lmss}\bfseries\large}{\fontfamily{lmss}\bfseries\large\thesubsubsection}{1em}{}
  
% table of contents
\renewcommand{\cfttoctitlefont}{\fontfamily{lmss}\bfseries\LARGE}
\renewcommand{\cftsecfont}{\fontfamily{lmss}\bfseries}

% table of contents linking 
\hypersetup{
    colorlinks=true, 
    linktoc=all,    
    linkcolor=BrickRed, 
    urlcolor=black
}

% general commands
\newcommand{\problem}[1]{\noindent \textbf{\large{\scshape Problem #1.}}}
\newcommand{\problembad}[2]{\textbf{Problem #1} (#2)\textbf{.}}
\newcommand{\V}{

\vspace{\baselineskip}

}
\renewcommand{\comment}[1]{\textbf{\textcolor{Red}{#1}}}
\newcommand{\cis}[1]{\text{cis}(#1^{\circ})}
\newcommand{\ac}[1]{\textbf{\textcolor{blue}{#1}}}
\newcommand{\RR}{\mathbb{R}} % real
\newcommand{\CC}{\mathbb{C}} % complex
\newcommand{\FF}{\mathbb{F}} % field
\newcommand{\QQ}{\mathbb{Q}} % rationals
\newcommand{\ZZ}{\mathbb{Z}} % integers
\newcommand{\EE}{\mathbb{E}} % ev
\newcommand{\HH}{\mathbb{H}} % quaternions
\newcommand{\OO}{\mathbb{O}} % octonions
\newcommand{\ihat}{\hat{\imath}} % basis vector
\newcommand{\jhat}{\hat{\jmath}} % basis vector
\newcommand{\khat}{\hat{k}} % basis vector
\newcommand{\yhat}{\hat{y}} % stats
\newcommand{\norm}[1]{\vert #1\vert} % norm
\newcommand{\ov}[1]{\overline{#1}} % overline shortcut
\newcommand{\siff}{\longleftrightarrow} % single line iff
\DeclareMathOperator{\re}{Re} % Re (text version) 
\DeclareMathOperator{\ima}{Im} % Im (text version)
\DeclareMathOperator{\im}{im} % image (kernel defined already)
\DeclareMathOperator{\Span}{span} % \span already defined
\DeclareMathOperator{\stab}{stab} % stabilizer
\DeclareMathOperator{\var}{var} % variance
\DeclareMathOperator{\GL}{GL} % general linear group
\DeclareMathOperator{\SL}{SL} % special linear group 
\DeclareMathOperator{\len}{len} % length 
\DeclareMathOperator{\spin}{Spin} % spin group
\DeclareMathOperator{\Tr}{Tr} % trace
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Perm}{Perm} % permutations
\DeclareMathOperator{\sgn}{sgn} % sgn homomorphism
\newcommand{\gen}[1]{\langle #1\rangle} % generator / form
\newcommand{\lgen}[1]{\left\langle #1 \right\rangle} % big generator / form
\newcommand{\emptyform}{\gen{\cdot, \cdot}} % empty form

% matrix shortcuts
\newcommand{\htwo}[2]{\begin{pmatrix}#1 & #2\end{pmatrix}}
\newcommand{\vtwo}[2]{\begin{pmatrix}#1 \\ #2\end{pmatrix}}
\newcommand{\twotwo}[4]{\begin{pmatrix}#1 & #2 \\ #3 & #4\end{pmatrix}}
\newcommand{\hthree}[3]{\begin{pmatrix}#1 & #2 & #3\end{pmatrix}}
\newcommand{\vthree}[3]{\begin{pmatrix}#1 \\ #2 \\ #3\end{pmatrix}}

% horizontal bar from Evan Chen
\newcommand{\hrulebar}{
	\par\hspace{\fill}\rule{0.95\linewidth}{.7pt}\hspace{\fill}
	\par\nointerlineskip \vspace{\baselineskip}
}

% warning symbol for misconception box
% repurposed from https://tex.stackexchange.com/a/159701
\newcommand\Warning{%
 \makebox[1.1em][c]{%
 \makebox[0pt][c]{\raisebox{.1em}{{\fontfamily{lmss}\selectfont\scriptsize!}}}%
 \makebox[0pt][c]{\color{red}\Large$\bigtriangleup$}}}

% labeling commands
% initializing box counter
\newcounter{cnt}[section] 
\newcommand{\deflabel}{\addtocounter{cnt}{1}
{\fontfamily{lmss}\selectfont
\textbf{\textcolor{WildStrawberry}{Definition \thesection.\thecnt}}}}
\newcommand{\thmlabel}{\addtocounter{cnt}{1}
{\fontfamily{lmss}\selectfont\textbf{\textcolor{blue}{Theorem \thesection.\thecnt}}}}
\newcommand{\thmlabelname}[1]{\addtocounter{cnt}{1}
{\fontfamily{lmss}\selectfont\textcolor{blue}{\textbf{Theorem \thesection.\thecnt} (#1)}}}
\newcommand{\proplabel}{\addtocounter{cnt}{1}
{\fontfamily{lmss}\selectfont\textbf{\textcolor{blue}{Proposition \thesection.\thecnt}}}}
\newcommand{\proplabelname}[1]{\addtocounter{cnt}{1}
{\fontfamily{lmss}\selectfont\textcolor{blue}{\textbf{Proposition \thesection.\thecnt} (#1)}}}
\newcommand{\corlabel}{\addtocounter{cnt}{1}
{\fontfamily{lmss}\selectfont\textbf{\textcolor{blue}{Corollary \thesection.\thecnt}}}}
\newcommand{\exlabel}{\addtocounter{cnt}{1}
{\fontfamily{lmss}\selectfont\textbf{\textcolor{Green}{Example \thesection.\thecnt}}}}
\newcommand{\exlabelname}[1]{\addtocounter{cnt}{1}
{\fontfamily{lmss}\selectfont\textcolor{Green}{\textbf{Example \thesection.\thecnt} (#1)}}}
\newcommand{\lemlabel}{\addtocounter{cnt}{1}
{\fontfamily{lmss}\selectfont\textbf{\textcolor{blue}{Lemma \thesection.\thecnt}}}}
\newcommand{\lemlabelname}[1]{\addtocounter{cnt}{1}
{\fontfamily{lmss}\selectfont\textcolor{blue}{\textbf{Lemma \thesection.\thecnt} (#1)}}}
\newcommand{\claimlabel}{\addtocounter{cnt}{1}
{\fontfamily{lmss}\selectfont\textbf{\textcolor{blue}{Claim \thesection.\thecnt}}}}
\newcommand{\mislabel}{\addtocounter{cnt}{1}
{\fontfamily{lmss}\selectfont\textbf{\textcolor{black}{Misconception} \Warning \textcolor{black}}}}

% titling defaults
% verbose naming to (hopefully) avoid collisions
\def \customtitle {Default Title}
\def \customsubtitle {Default Subtitle}
\def \customauthor {Andrew Liu}
\def \customprof {Default Lecturer}
\def \customdate {\today}
\def \customlhead {\customauthor}
\def \customrhead {}
\def \customimportfolder {notes}
\def \customclass {}
\def \customclassnum {}
\def \customseason {Fall}

% figure out the semester 
\ifnum \month<8
    \renewcommand{\customseason}{Spring}
\fi

% titling commands
\newcommand{\settitle}[1]{\renewcommand{\customtitle}{#1}}
\newcommand{\setsubtitle}[1]{\renewcommand{\customsubtitle}{#1}}
\newcommand{\setauthor}[1]{\renewcommand{\customauthor}{#1}}
\newcommand{\setprof}[1]{\renewcommand{\customprof}{#1}}
\newcommand{\setdate}[1]{\renewcommand{\customdate}{#1}}
\newcommand{\setlhead}[1]{\renewcommand{\customlhead}{#1}}
\newcommand{\setrhead}[1]{\renewcommand{\customrhead}{#1}}
\newcommand{\setimportfolder}[1]{\renewcommand{\customimportfolder}{#1}}
\newcommand{\setclass}[1]{\renewcommand{\customclass}{#1}}
\newcommand{\setclassnum}[1]{\renewcommand{\customclassnum}{#1}}

% setting main title
\title{{\fontfamily{lmss}\selectfont
\textbf{\huge\customtitle}}}
\author{\large \textsc{\customauthor}}
\date{\customdate}

% set margin
\newcommand{\setmargin}[1]{
    \newgeometry{margin=#1}
    \fancyhfoffset[E,O]{0pt}
}

% setting headers 
\renewcommand{\sectionmark}[1]{\markboth{#1}{}}
\pagestyle{fancy} 
\lhead{\customlhead}
\rhead{\customrhead}
\cfoot{\thepage}

% process options
\DeclareOption{notes}{
    \settitle{
        {\fontfamily{lmss}\selectfont
        \textbf{{\huge \customtitle}\\
        {\Large Lecturer: \customprof}
        }}
    }
    \setrhead{\nouppercase{\leftmark}}
}
\DeclareOption{pset}{
    \settitle{
        {\fontfamily{lmss}\selectfont
        \textbf{{\LARGE \customclass\hspace{4pt}(\customseason, \the\year)}\\
        {\Large Problem Set \customclassnum}
        }}
    }
    \setrhead{
        \customclass\hspace{4pt}Problem Set \customclassnum\hspace{4pt}Solutions
    }
}
\DeclareOption*{\PackageWarning{examplepackage}{Unknown ‘\CurrentOption’}}
\ProcessOptions\relax

% color boxes
\newtcolorbox{example}{colback = SeaGreen!10, arc = 0mm, boxrule=0mm}
\newtcolorbox{definition}{colback = WildStrawberry!10, arc = 0mm, boxrule=0mm}
\newtcolorbox{theorem}{colback = blue!10, arc=0mm, boxrule=0mm}
\newtcolorbox{misconception}{colback = black!10, arc=0mm, boxrule=0mm}

% import files
\def \months {01,02,03,04,05,06,07,08,09,...,12}
\def \days {01,02,03,04,05,06,07,08,09,...,31}
\newcommand{\importfiles}{
    \foreach \i in \months{
        \foreach \j in \days{
            \IfFileExists{\customimportfolder/\i\j.tex}{
            \input{\customimportfolder/\i\j.tex}%
            }{}
        }
    }
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% USEFUL TEMPLATES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% % normal table inside of figure:
% \begin{figure}[h]
% \centering
% \begin{tabular}{|c|c|}
% \hline
%     x & y \\
% \hline
%     z & w \\
% \hline
% \end{tabular}
% \end{figure}

% % two images side by side:
% \begin{figure}[H]
%     \hfill
%     \begin{minipage}{0.4\textwidth}
%     \includegraphics[width=\textwidth]{images/cube_dual.png}
%     \end{minipage}
%     \hfill
%     \begin{minipage}{0.4\textwidth}
%     \includegraphics[width=\textwidth]{images/tetr_dual.png}
%     \end{minipage}
%     \hfill\hfill
% \end{figure}

% % fancy table (from overleaf website):
% \begin{tabular}{ |p{3cm}||p{3cm}|p{3cm}|p{3cm}|  }
%  \hline
%  \multicolumn{4}{|c|}{Country List} \\
%  \hline
%  Country Name or Area Name& ISO ALPHA 2 Code &ISO ALPHA 3 Code&ISO numeric Code\\
%  \hline
%  Afghanistan   & AF    &AFG&   004\\
%  Aland Islands&   AX  & ALA   &248\\
%  Albania &AL & ALB&  008\\
%  Algeria    &DZ & DZA&  012\\
%  American Samoa&   AS  & ASM&016\\
%  Andorra& AD  & AND   &020\\
%  Angola& AO  & AGO&024\\
%  \hline
% \end{tabular}

% % general matrix starter
% \begin{pmatrix}3 & 2 \\ 2 & 5\end{pmatrix}
% \twotwo{1}{0}{0}{1} % id
% \vtwo{1}{0} % 2x1
% \htwo{0}{1} % 1x2

% % 3x3 matrix
% \begin{pmatrix}
% 1 & 0 & 0 \\
% 0 & 1 & 0 \\
% 0 & 0 & 1
% \end{pmatrix}

% % basis vectors vertical matrix
% \begin{pmatrix}
%     \vert & & \vert \\
%     v_1   & \hdots & v_n   \\
%     \vert & & \vert
% \end{pmatrix}

% % basis vectors horizontal matrix
% \begin{pmatrix}
%     \text{---} & v_1 & \text{---} \\
%      & \vdots & \\
%     \text{---} & v_2 & \text{---}
% \end{pmatrix}

% % 2x2 block matrix
% \[\left(\begin{array}{ c | c }
%     A & B \\
%     \hline
%     C & D
%   \end{array}\right)\]

% % general horizontal matrix
% % ^t (transpose) for inline general vertical matrix
% \begin{pmatrix}v_1 & v_2 & \hdots & v_n\end{pmatrix}

% % general vertical matrix
% \begin{pmatrix}v_1 \\ v_2 \\ \vdots \\ v_n\end{pmatrix}

% % more general block matrices
% % same pattern as above
% \[M = \left(
%     \begin{array}{cc}
%       \multicolumn{1}{c|}{A} & 0 \\ \cline{1-2}
%       \multicolumn{1}{c|}{0} & B \\
%     \end{array}
%     \right)\]
% % more complicated pattern 
% \[\left(
%     \begin{array}{ccccc}
%       A_{11} & 0 & \cdots & \multicolumn{1}{c|}{0} &\cdots \\
%       \cline{2-5}
%       \multicolumn{1}{c|}{0} &&&\multicolumn{1}{c|}{} &\multicolumn{1}{c|}{} \\
%       \multicolumn{1}{c|}{\vdots} && (M_{ij}) &\multicolumn{1}{c|}{} &\multicolumn{1}{c|}{} \\
%       \multicolumn{1}{c|}{0} &&&\multicolumn{1}{c|}{} &\multicolumn{1}{c|}{}\\ \cline{1-4}
%       \multicolumn{1}{c|}{\vdots} &&&& \multicolumn{1}{c|}{}\\
%       \cline{2-5}
%     \end{array}
%     \right)\]

% % 3x3 id matrix with border labels
% \bordermatrix{ &c_1&c_2&c_3\cr
%                 r_1&1&0&0\cr
%                 r_2&0&1&0\cr
%                 r_3&0&0&1}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ASYMPTOTE
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% % asymptote starter, dots+lines
% \begin{center}
% \begin{asy}
% import graph; size(3cm); 
% pen dps = linewidth(0.7) + fontsize(10); defaultpen(dps);
% pen dotstyle = black;
% real scale = 1.75;

% pair O = (0,0);
% pair A = dir(20);
% pair pA = dir(70);

% draw(O--A);
% draw(A--pA);
% draw(O--pA);

% dot(O,dotstyle); 
% label("$O$", O, S*scale);
% dot(A,dotstyle); 
% label("$\alpha$", A, E*scale);
% dot(pA,dotstyle); 
% label("$\rho(\alpha)$", pA, NE*scale);
% \end{asy}
% \end{center}

% % asymptote starter, circles+colors+shading
% \begin{center}
% \begin{asy}
% import graph; size(2cm); 
% pen dps = linewidth(0.7) + fontsize(10); defaultpen(dps);
% pen crust = RGB(208,184,157);
% pen beef = RGB(138, 66, 14);
% pen dotstyle = 1+black;
% real scale = 1.75;
% real sc2 = 0.4;

% path A = unitcircle;
% filldraw(A, red+opacity(0.1), crust);
% path B = scale(0.1)*unitcircle;

% pair X1 = (-0.25, 0.5);
% pair X2 = (-0.25, 0);
% pair X3 = (-0.25, -0.5);
% pair X4 = (-0.67, 0.25);
% pair X5 = (-0.67, -0.25);
% filldraw(shift(X1)*B, beef, beef);
% filldraw(shift(X2)*B, beef, beef);
% filldraw(shift(X3)*B, beef, beef);
% filldraw(shift(X4)*B, beef, beef);
% filldraw(shift(X5)*B, beef, beef);
% \end{asy}
% \end{center}

% % asymptote starter, stretching + arcs
% \begin{center}
% \begin{asy}
% import graph; size(3cm); 
% pen dps = linewidth(0.7) + fontsize(10); defaultpen(dps);
% pen bronze = RGB(205, 127, 50);
% real eps = 10;
% real yscaling = 0.75;

% path A = scale(3)*unitcircle;
% path B = scale(2)*unitcircle;
% path C = unitcircle;
% path D = scale(0.5)*unitcircle;
% draw(A);
% draw(B);
% draw(C);
% filldraw(D, green, green);

% draw((0,3)--(0,4), bronze);
% draw((0,-3)--(0,-4), bronze);
% draw((2,0)--(3,0), bronze);
% draw((-2,0)--(-3,0), bronze);
% draw((0,1)--(0,2), bronze);
% draw((0,-1)--(0,-2), bronze);

% path rotation = arc((0,3.4/yscaling), 1, -225+eps, 45-eps);
% draw(yscale(yscaling)*rotation, Arrow(3bp));
% \end{asy}
% \end{center}

% % asymptote starter, intersection points 
% \begin{center}
% \begin{asy}
% import graph; size(5cm); 
% pen dps = linewidth(0.7) + fontsize(9); defaultpen(dps);
% real yscaling = 0.15;
% real yscaling2 = 0.65;

% path A = unitcircle;
% path arc_bot = arc((0,0), 1, 180, 360); 
% path arc_top = arc((0,0), 1, 0, 180); 
% path eq_bot = yscale(yscaling)*arc_bot;
% path eq_top = yscale(yscaling)*arc_top; 
% path l1_right = rotate(90)*yscale(yscaling)*arc_bot; 
% path l1_left = rotate(90)*yscale(yscaling)*arc_top; 
% path i_right = rotate(90)*yscale(yscaling2)*arc_bot; 
% path i_left = rotate(90)*yscale(yscaling2)*arc_top; 

% /* equator */
% draw(eq_bot, red);
% draw(eq_top, red+dotted);
% /* longitude */
% draw(l1_left, blue+dotted);
% draw(l1_right, blue);
% /* i longitude */
% draw(i_left, blue+dotted);
% draw(i_right, blue);
% draw(A); 

% /* dots and labels */
% pair [] i = intersectionpoints(eq_bot, i_right);
% pair [] mi = intersectionpoints(eq_top, i_left);
% dot(i[0], red+2);
% dot(mi[0], red+2);
% label("$i$", i[0], SE, red);
% label("$-i$", mi[0], SE, red);

% pair [] x = intersectionpoints(eq_bot, l1_right); 
% pair [] mx = intersectionpoints(eq_top, l1_left);
% dot(x[0], red+2);
% dot(mx[0], red+2);
% label("$\gamma$", x[0], SE*1.25, red);
% label("$-\gamma$", mx[0], SE, red);
% \end{asy}
% \end{center}